<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Listado de Pasajeros</title>
  <link rel="stylesheet" href="estilos.css">
  <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ğŸšŒ</text></svg>">
</head>
<body>
  <header class="main-header">
    <h1>ğŸšŒ Listado de Pasajeros</h1>
  </header>

  <main class="main-container">
    <!-- Controles principales -->
    <section class="controls-section">
      <div class="controls-grid">
        <div class="control-group">
          <label for="csvFile" class="file-input-label">
            <span class="file-icon">ğŸ“</span>
            <span class="file-text">Cargar CSV</span>
            <input type="file" id="csvFile" accept=".csv" class="file-input">
          </label>
        </div>
        
        <div class="mobile-buttons">
          <button class="btn-primary" onclick="openAddPassengerModal()">
            <span class="btn-icon">â•</span>
            <span class="btn-text">Agregar</span>
          </button>
          
          <button class="btn-secondary" onclick="removeSelectedRows()">
            <span class="btn-icon">ğŸ—‘ï¸</span>
            <span class="btn-text">Eliminar</span>
          </button>
          
          <button class="btn-success" onclick="openSaveModal()" id="saveBtn">
            <span class="btn-icon">ğŸ’¾</span>
            <span class="btn-text">Guardar</span>
          </button>
        </div>
        
        <div class="stats-bar">
          <span id="rowCount" class="stat-item">0 pasajeros</span>
          <span id="errorCount" class="stat-item error">0 errores</span>
        </div>
      </div>
    </section>

    <!-- Lista de pasajeros (vista mÃ³vil) -->
    <section class="passengers-list" id="passengersList">
      <!-- Se llenarÃ¡ dinÃ¡micamente con JavaScript -->
    </section>

    <!-- Tabla para desktop -->
    <section class="table-section" id="tableSection">
      <div id="tableContainer"></div>
    </section>
  </main>

  <!-- Modal para guardar -->
  <div id="saveModal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h3>ğŸ“ Guardar Archivo</h3>
        <button class="close-btn" onclick="closeSaveModal()">Ã—</button>
      </div>
      <div class="modal-body">
        <input type="text" id="fileNameInputModal" placeholder="nombre_archivo" class="modal-input">
        <p class="modal-hint">Se guardarÃ¡ como: <span id="fileNamePreview">.csv</span></p>
      </div>
      <div class="modal-footer">
        <button class="btn-primary" onclick="confirmDownload()">Guardar</button>
        <button class="btn-secondary" onclick="closeSaveModal()">Cancelar</button>
      </div>
    </div>
  </div>

  <!-- Modal para agregar/editar pasajeros -->
  <div id="addPassengerModal" class="modal full-modal">
    <div class="modal-content">
      <div class="modal-header">
        <h2 id="formTitle">â• Agregar Pasajero</h2>
        <button class="close-btn" onclick="closeAddPassengerModal()">Ã—</button>
      </div>
      
      <div class="modal-body">
        <form id="passengerForm" class="passenger-form">
          <div class="form-section">
            <h3 class="form-section-title">ğŸ“‹ InformaciÃ³n Personal</h3>
            <div class="form-row">
              <div class="form-group">
                <label for="apellido" class="required-field">
                  <span class="label-text">Apellido</span>
                  <span class="required-star">*</span>
                </label>
                <input type="text" id="apellido" required placeholder="Ingrese apellido">
                <div class="error-message" id="apellidoError"></div>
              </div>
              
              <div class="form-group">
                <label for="nombre" class="required-field">
                  <span class="label-text">Nombre</span>
                  <span class="required-star">*</span>
                </label>
                <input type="text" id="nombre" required placeholder="Ingrese nombre">
                <div class="error-message" id="nombreError"></div>
              </div>
            </div>
            
            <div class="form-row">
              <div class="form-group">
                <label for="sexo" class="required-field">
                  <span class="label-text">Sexo</span>
                </label>
                <div class="radio-group">
                  <label class="radio-label">
                    <input type="radio" name="sexo" value="F" checked>
                    <span class="radio-text">ğŸ‘© Femenino</span>
                  </label>
                  <label class="radio-label">
                    <input type="radio" name="sexo" value="M">
                    <span class="radio-text">ğŸ‘¨ Masculino</span>
                  </label>
                </div>
              </div>
              
              <div class="form-group">
                <label for="menor" class="required-field">
                  <span class="label-text">Menor de edad</span>
                </label>
                <select id="menor" class="form-select">
                  <option value="0">ğŸ‘¶ No (18+ aÃ±os)</option>
                  <option value="1">ğŸ‘¦ SÃ­ (menor de 18)</option>
                </select>
              </div>
            </div>
          </div>
          
          <div class="form-section">
            <h3 class="form-section-title">ğŸ“„ DocumentaciÃ³n</h3>
            <div class="form-row">
              <div class="form-group">
                <label for="tipo_documento" class="required-field">
                  <span class="label-text">Tipo de Documento</span>
                </label>
                <select id="tipo_documento" class="form-select">
                  <option value="DNI">ğŸ‡¦ğŸ‡· DNI</option>
                  <option value="Pasaporte">ğŸŒ Pasaporte</option>
                  <option value="OTROS">ğŸ“„ Otros</option>
                </select>
              </div>
              
              <div class="form-group">
                <label for="numero_documento" class="required-field">
                  <span class="label-text">NÃºmero</span>
                  <span class="required-star">*</span>
                </label>
                <input type="text" id="numero_documento" required 
                       placeholder="Ej: 12345678">
                <div class="error-message" id="numeroDocumentoError"></div>
              </div>
            </div>
          </div>
          
          <div class="form-section">
            <h3 class="form-section-title">ğŸŒ InformaciÃ³n Adicional</h3>
            <div class="form-row">
              <div class="form-group">
                <label for="nacionalidad" class="required-field">
                  <span class="label-text">Nacionalidad</span>
                </label>
                <select id="nacionalidad" class="form-select"></select>
              </div>
              
              <div class="form-group">
                <label for="tripulante" class="required-field">
                  <span class="label-text">Tripulante</span>
                </label>
                <select id="tripulante" class="form-select">
                  <option value="0">ğŸ‘¤ Pasajero</option>
                  <option value="1">ğŸ‘¨â€âœˆï¸ Tripulante</option>
                </select>
              </div>
            </div>
            
            <div class="form-row">
              <div class="form-group">
                <label for="ocupa_butaca" class="required-field">
                  <span class="label-text">Ocupa Butaca</span>
                </label>
                <select id="ocupa_butaca" class="form-select">
                  <option value="1">ğŸ’º SÃ­ (ocupa asiento)</option>
                  <option value="0">ğŸ‘¶ No (ej: menor de 5 aÃ±os)</option>
                </select>
              </div>
            </div>
            
            <div class="form-group full-width">
              <label for="observaciones">
                <span class="label-text">Observaciones</span>
              </label>
              <textarea id="observaciones" rows="3" 
                        placeholder="Notas adicionales..."></textarea>
            </div>
          </div>
          
          <div class="form-actions">
            <button type="button" class="btn-primary large" onclick="validateAndSavePassenger()" id="savePassengerBtn">
              ğŸ’¾ Guardar Pasajero
            </button>
            <button type="button" class="btn-secondary" onclick="closeAddPassengerModal()">
              âŒ Cancelar
            </button>
          </div>
        </form>
      </div>
    </div>
  </div>

  <script src="function.js"></script>
</body>
</html>
